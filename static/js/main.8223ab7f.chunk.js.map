{"version":3,"sources":["slate/2.tsx","draft/4.tsx","slate/4.tsx","App.tsx","draft/1.tsx","draft/2.tsx","draft/3.tsx","slate/1.tsx","slate/3.tsx","index.tsx"],"names":["styles","b","fontWeight","i","fontStyle","u","textDecoration","Image","props","block","contentState","key","getEntityAt","data","getEntity","getData","src","alt","name","contentEditable","toDataURL","file","a","Promise","resolve","reject","reader","FileReader","addEventListener","result","readAsDataURL","Element","attributes","children","element","type","ImageElement","selected","useSelected","focused","useFocused","url","className","css","draft","React","useState","EditorState","createWithContent","ContentState","createFromText","editorState","setEditorState","onChange","handleKeyCommand","useCallback","command","newState","RichUtils","onClick","getSelection","getAnchorKey","getCurrentContent","getBlockForKey","push","Modifier","setBlockType","getType","blockRendererFn","console","log","component","handleDroppedFiles","selection","files","length","entityKey","createEntity","getLastCreatedEntityKey","AtomicBlockUtils","insertAtomicBlock","setTimeout","dataurl","mergeEntityData","slate","editor","useMemo","withReact","createEditor","text","value","setValue","newValue","onKeyDown","metaKey","marks","Editor","removeMark","addMark","renderLeaf","leaf","rest","style","Object","keys","reduce","acc","renderElement","Transforms","setNodes","insertData","split","toString","image","insertNodes","insertImage","onDrop","steps","App","map","s","to","D","path","S","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8223ab7f.chunk.js","sourcesContent":["import React, { CSSProperties, useCallback } from 'react'\nimport { useMemo, useState } from \"react\"\nimport { Editable, RenderLeafProps, Slate, withReact } from 'slate-react'\nimport { createEditor, Editor, Node } from \"slate\"\n\nconst styles: {[key: string]: CSSProperties } = {\n  b: { fontWeight: 'bold' },\n  i: { fontStyle: 'italic' },\n  u: { textDecoration: 'underline' }\n}\n\nexport function S2() {\n  const editor = useMemo(() => withReact(createEditor()), [])\n  const [value, setValue] = useState<Node[]>([{\n    children: [{\n      text: 'Hello Slate'\n    }]\n  }])\n\n  const onKeyDown = useCallback(({ key, metaKey }) => {\n    const marks = Editor.marks(editor) || {}\n\n    if (metaKey == null || styles[key] == null) {\n      return\n    }\n\n    if (marks[key] != null) {\n      Editor.removeMark(editor, key)\n    } else {\n      Editor.addMark(editor, key, true)\n    }\n  }, [editor]);\n\n\n  const renderLeaf = useCallback((props: RenderLeafProps) => {\n    const { text, ...rest } = props.leaf\n    const style = Object.keys(rest).reduce(\n      (acc, key) => ({ ...acc, ...styles[key] }),\n      {}\n    );\n\n    return <span {...props.attributes} style={style}>\n      {props.children}\n    </span>\n  }, [])\n\n  console.log({ value })\n\n  return <Slate\n      editor={editor}\n      value={value}\n      onChange={newValue => setValue(newValue)}\n    >\n      <Editable\n        onKeyDown={onKeyDown}\n        renderLeaf={renderLeaf}\n      />\n    </Slate>\n}\n","import React, { useCallback } from 'react';\nimport {ContentState, Editor, EditorState, DraftHandleValue, AtomicBlockUtils, ContentBlock} from 'draft-js';\nimport 'draft-js/dist/Draft.css';\n\nfunction Image(props: any) {\n  const block = props.block as ContentBlock\n  const contentState = props.contentState as ContentState\n  const key = block.getEntityAt(0)\n  const ent = contentState.getEntity(key)\n  const data = ent.getData()\n  if (!data.src) {\n    return <div contentEditable={false}>\n      Loading {data.name}\n    </div>\n  }\n  return <div>\n    <img alt={data.name} src={data.src}/>\n  </div>\n}\n\nasync function toDataURL(file: File) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n    reader.addEventListener('loadend', () => {\n      resolve(reader.result)\n    })\n    reader.readAsDataURL(file)\n    reader.addEventListener('abort', reject)\n    reader.addEventListener('error', reject)\n  })\n}\n\nexport function D4() {\n  const [editorState, setEditorState] = React.useState(\n    () => EditorState.createWithContent(ContentState.createFromText('Hello there\\nDrop an image please')),\n  );\n\n  const handleDroppedFiles = useCallback((selection, files: File[]) => {\n    if (files != null && files.length > 0) {\n      for (const file of files) {\n        let contentState = editorState.getCurrentContent()\n        contentState = contentState.createEntity(\n          'image',\n          'IMMUTABLE',\n          {\n            name: file.name,\n            src: null\n          }\n        )\n\n        const entityKey = contentState.getLastCreatedEntityKey()\n\n        setEditorState(AtomicBlockUtils.insertAtomicBlock(\n          EditorState.push(\n            editorState,\n            contentState,\n            'apply-entity'\n          ),\n          entityKey,\n          ' '\n        ))\n\n        setTimeout(async () => {\n          const dataurl = await toDataURL(file)\n          contentState.mergeEntityData(\n            entityKey,\n            { src: dataurl}\n          )\n          // just wrapping this in a timeout for demo purposes\n        }, 2000)\n      }\n      return 'handled'\n    }\n\n    return 'not-handled' as DraftHandleValue\n  }, [editorState])\n\n  const blockRendererFn = useCallback((block) => {\n    console.log(\"hello\", block.getType());\n    if (block.getType() === \"atomic\") {\n      return {\n        component: Image,\n      };\n    }\n    console.log(block.getType());\n  }, []);\n\n  // Modifier.setBlockType(content)\n\n  return <Editor\n    handleDroppedFiles={handleDroppedFiles}\n    blockRendererFn={blockRendererFn}\n    editorState={editorState} onChange={setEditorState}\n  />\n}\n","import React, { CSSProperties, useCallback, useEffect } from 'react'\nimport { useMemo, useState } from \"react\"\nimport { Editable, RenderElementProps, RenderLeafProps, Slate, useFocused, useSelected, withReact } from 'slate-react'\nimport { createEditor, Editor, Node, Transforms } from \"slate\"\nimport { css } from '@emotion/css'\n\nconst Element = (props: RenderElementProps) => {\n  const { attributes, children, element } = props\n\n  switch (element.type) {\n    case 'image':\n      return <ImageElement {...props} />\n    default:\n      return <p {...attributes}>{children}</p>\n  }\n}\n\nconst ImageElement = ({ attributes, children, element }: RenderElementProps) => {\n  const selected = useSelected()\n  const focused = useFocused()\n  if (!element.url) {\n    return <div {...attributes}>\n      <div contentEditable={false}>\n        Loading\n      </div>\n    </div>\n  }\n\n  return (\n    <div {...attributes}>\n      <div contentEditable={false}>\n        <img\n          alt=\"Cat\"\n          src={element.url as string}\n          className={css`\n            display: block;\n            max-width: 100%;\n            max-height: 20em;\n            box-shadow: ${selected && focused ? '0 0 0 3px #B4D5FF' : 'none'};\n          `}\n        />\n      </div>\n      {children}\n    </div>\n  )\n}\n\nconst insertImage = (editor: Editor, url: string) => {\n  const text = { text: '' }\n  const image = { type: 'image', url, children: [text] }\n  Transforms.insertNodes(editor, image)\n}\n\nexport function S4() {\n  const editor = useMemo(() => withReact(createEditor()), [])\n  const [value, setValue] = useState<Node[]>([\n    {\n      children: [\n        {\n          text: \"Hello there\",\n        },\n      ],\n    },\n    {\n      children: [\n        {\n          text: \"Drop an image here please\",\n        },\n      ],\n    },\n  ]);\n\n  editor.insertData = data => {\n    const { files } = data\n\n    if (files && files.length > 0) {\n      for (const file of files) {\n        const reader = new FileReader()\n        const [mime] = file.type.split('/')\n\n        if (mime === 'image') {\n          reader.addEventListener('load', () => {\n            const url = reader.result?.toString()\n            if (url) {\n              insertImage(editor, url)\n            }\n          })\n\n          reader.readAsDataURL(file)\n        }\n      }\n    }\n  }\n\n  return <Slate\n      editor={editor}\n      value={value}\n      onChange={newValue => setValue(newValue)}\n    >\n      <Editable\n        onDrop={(a) => [\n          console.log(a)\n        ]}\n        renderElement={Element}\n      />\n    </Slate>\n}\n","import React from \"react\";\nimport './App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport { D1 } from \"./draft/1\";\nimport { D2 } from \"./draft/2\";\nimport { S1 } from \"./slate/1\";\nimport { S2 } from \"./slate/2\";\nimport { D3 } from \"./draft/3\";\nimport { S3 } from \"./slate/3\";\nimport { D4 } from \"./draft/4\";\nimport { S4 } from \"./slate/4\";\n\n\nconst draft = [D1, D2, D3, D4];\nconst slate = [S1, S2, S3, S4];\nconst steps = [\n  'Basic',\n  'Basic Text Formatting',\n  'Block Formatting',\n  'Transient State'\n]\n\nexport default function App() {\n  return (\n    <Router>\n      <div>\n        <table>\n          <thead>\n            <th>\n              <td></td>\n              <td>Slate</td>\n              <td>Draft</td>\n            </th>\n          </thead>\n          <tbody>\n            {steps.map((s, i) => (\n              <tr>\n                <td>{s}</td>\n                <td><Link to={`/D${i + 1}`}>Draft js</Link></td>\n                <td><Link to={`/S${i + 1}`}>Slate js</Link></td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        <Switch>\n          {draft.map((D, i) => (\n            <Route key={`/D${i + 1}`} path={`/D${i + 1}`}>\n              <D />\n            </Route>\n          ))}\n\n          {slate.map((S, i) => (\n            <Route key={`/S${i + 1}`} path={`/S${i + 1}`}>\n              <S />\n            </Route>\n          ))}\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {ContentState, Editor, EditorState} from 'draft-js';\nimport 'draft-js/dist/Draft.css';\n\nexport function D1() {\n  const [editorState, setEditorState] = React.useState(\n    () => EditorState.createWithContent(ContentState.createFromText('Hello Draft')),\n  );\n\n  return <Editor editorState={editorState} onChange={setEditorState} />;\n}\n","import React, { useCallback } from 'react';\nimport ReactDOM from 'react-dom';\nimport {ContentState, Editor, EditorState, RichUtils} from 'draft-js';\nimport 'draft-js/dist/Draft.css';\n\nexport function D2() {\n  const [editorState, setEditorState] = React.useState(\n    () => EditorState.createWithContent(ContentState.createFromText('Hello World')),\n  );\n\n  const handleKeyCommand = useCallback((command, editorState) => {\n    const newState = RichUtils.handleKeyCommand(editorState, command);\n\n    if (newState) {\n      setEditorState(newState);\n      return \"handled\";\n    }\n\n    return \"not-handled\";\n  }, []);\n\n  return <Editor\n    handleKeyCommand={handleKeyCommand}\n    editorState={editorState} onChange={setEditorState}\n  />;\n}\n","import React, { useCallback } from 'react';\nimport ReactDOM from 'react-dom';\nimport {ContentBlock, ContentState, Editor, EditorState, Modifier, RichUtils, EditorBlock} from 'draft-js';\nimport 'draft-js/dist/Draft.css';\n\nexport function D3() {\n  const [editorState, setEditorState] = React.useState(\n    () => EditorState.createWithContent(ContentState.createFromText('Hello World')),\n  );\n\n  // Modifier.setBlockType(content)\n\n  return <>\n    <button onClick={() => {\n      const selection = editorState.getSelection()\n      const key = selection.getAnchorKey()\n      const content = editorState.getCurrentContent()\n      const block = content.getBlockForKey(key)\n      setEditorState(\n        EditorState.push(\n          editorState,\n          Modifier.setBlockType(\n            editorState.getCurrentContent(),\n            editorState.getSelection(),\n            block.getType() === 'h1' ? \"unstyled\" : 'h1'\n          ),\n          'change-block-type'\n        ),\n      );\n    }}>h1</button>\n    <Editor\n      blockRendererFn={(block) => {\n        console.log('hello', block.getType())\n        if (block.getType() === 'h1') {\n          return {\n            component: (props: any) => {\n              return <h1>\n                <EditorBlock {...props}/>\n              </h1>\n            }\n          }\n        }\n        console.log(block.getType())\n      }}\n      editorState={editorState} onChange={setEditorState}\n    />\n  </>;\n}\n","import React from 'react'\nimport { useMemo, useState } from \"react\"\nimport { Editable, Slate, withReact } from 'slate-react'\nimport { createEditor, Node } from \"slate\"\n\nexport function S1() {\n  const editor = useMemo(() => withReact(createEditor()), [])\n  const [value, setValue] = useState<Node[]>([{\n    children: [{\n      text: 'Hello Slate'\n    }]\n  }])\n  return <Slate\n      editor={editor}\n      value={value}\n      onChange={newValue => setValue(newValue)}\n    >\n      <Editable />\n    </Slate>\n}\n","import React, { CSSProperties, useCallback } from 'react'\nimport { useMemo, useState } from \"react\"\nimport { Editable, RenderElementProps, RenderLeafProps, Slate, withReact } from 'slate-react'\nimport { createEditor, Editor, Node, Transforms } from \"slate\"\n\nexport function S3() {\n  const editor = useMemo(() => withReact(createEditor()), [])\n  const [value, setValue] = useState<Node[]>([{\n    children: [{\n      text: 'Hello Slate'\n    }]\n  }])\n\n  const renderElement = useCallback(({ element, children, ...props}: RenderElementProps) => {\n    if (element.type === 'h1') {\n      return <h1 {...props}>{children}</h1>\n    } else if (element.type === 'h2') {\n      return <h1 {...props}>{children}</h1>\n    } \n\n    return <p {...props}>{children}</p>\n  }, [])\n\n  return <Slate\n      editor={editor}\n      value={value}\n      onChange={newValue => setValue(newValue)}\n    >\n      <button onClick={() => {\n        Transforms.setNodes(editor, { type: 'h1' })\n      }}>\n        h1\n      </button>\n      <Editable\n        renderElement={renderElement}\n      />\n    </Slate>\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}