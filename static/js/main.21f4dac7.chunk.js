(this["webpackJsonpdraft-slate-comparison-playground"]=this["webpackJsonpdraft-slate-comparison-playground"]||[]).push([[0],{125:function(e,t,n){},126:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n(0),a=n.n(r),o=n(41),i=n.n(o),l=(n(125),n(126),n(57)),j=n(11),s=n(1),u=n(10);n(54);var b=n(13),d=n(2);var O=n(8),h=n(55),f={b:{fontWeight:"bold"},i:{fontStyle:"italic"},u:{textDecoration:"underline"}};var x=n(6),m=n.n(x),p=n(36),g=n(4);function v(e){return y.apply(this,arguments)}function y(){return(y=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var c=new FileReader;c.addEventListener("loadend",(function(){e(c.result)})),c.readAsDataURL(t),c.addEventListener("abort",n),c.addEventListener("error",n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){var t=e.block,n=e.contentState,r=t.getEntityAt(0),a=n.getEntity(r).getData();return a.src?Object(c.jsx)("div",{children:Object(c.jsx)("img",{alt:a.name,src:a.src})}):Object(c.jsxs)("div",{contentEditable:!1,children:["Loading ",a.name]})}var C=n(17),k=n(116),E=n(119),T=n(118);function D(){var e=Object(k.a)(["\n            display: block;\n            max-width: 100%;\n            max-height: 20em;\n            box-shadow: ",";\n          "]);return D=function(){return e},e}var w=function(e){var t=e.attributes,n=e.children;switch(e.element.type){case"image":return Object(c.jsx)(F,Object(O.a)({},e));default:return Object(c.jsx)("p",Object(O.a)(Object(O.a)({},t),{},{children:n}))}},F=function(e){var t=e.attributes,n=e.children,r=e.element,a=e.imageStore,o=Object(b.d)(),i=Object(b.c)(),l=a[r.entity];return l?Object(c.jsxs)("div",Object(O.a)(Object(O.a)({},t),{},{children:[Object(c.jsx)("div",{contentEditable:!1,children:Object(c.jsx)("img",{alt:"Cat",src:l,className:Object(T.a)(D(),o&&i?"0 0 0 3px #B4D5FF":"none")})}),n]})):Object(c.jsxs)("div",Object(O.a)(Object(O.a)({},t),{},{children:[Object(c.jsx)("div",{contentEditable:!1,children:"Loading"}),n]}))};var B=[function(){var e=a.a.useState((function(){return u.EditorState.createWithContent(u.ContentState.createFromText("Hello Draft"))})),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(c.jsx)(u.Editor,{editorState:n,onChange:r})},function(){var e=a.a.useState((function(){return u.EditorState.createWithContent(u.ContentState.createFromText("Hello World"))})),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(r.useCallback)((function(e,t){var n=u.RichUtils.handleKeyCommand(t,e);return n?(o(n),"handled"):"not-handled"}),[]);return Object(c.jsx)(u.Editor,{handleKeyCommand:i,editorState:n,onChange:o})},function(){var e=a.a.useState((function(){return u.EditorState.createWithContent(u.ContentState.createFromText("Hello World"))})),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:function(){var e=n.getSelection().getAnchorKey(),t=n.getCurrentContent().getBlockForKey(e);r(u.EditorState.push(n,u.Modifier.setBlockType(n.getCurrentContent(),n.getSelection(),"h1"===t.getType()?"unstyled":"h1"),"change-block-type"))},children:"h1"}),Object(c.jsx)(u.Editor,{blockRendererFn:function(e){if(console.log("hello",e.getType()),"h1"===e.getType())return{component:function(e){return Object(c.jsx)("h1",{children:Object(c.jsx)(u.EditorBlock,Object(O.a)({},e))})}};console.log(e.getType())},editorState:n,onChange:r})]})},function(){var e=a.a.useState((function(){return u.EditorState.createWithContent(u.ContentState.createFromText("Hello there\nDrop an image please"))})),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(r.useCallback)((function(e,t){if(null!=t&&t.length>0){var c,r=Object(g.a)(t);try{var a=function(){var e=c.value,t=n.getCurrentContent(),r=(t=t.createEntity("image","IMMUTABLE",{name:e.name,src:null})).getLastCreatedEntityKey();o(u.AtomicBlockUtils.insertAtomicBlock(u.EditorState.push(n,t,"apply-entity"),r," ")),setTimeout(Object(p.a)(m.a.mark((function n(){var c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v(e);case 2:c=n.sent,t.mergeEntityData(r,{src:c});case 4:case"end":return n.stop()}}),n)}))),2e3)};for(r.s();!(c=r.n()).done;)a()}catch(i){r.e(i)}finally{r.f()}return"handled"}return"not-handled"}),[n]),l=Object(r.useCallback)((function(e){if(console.log("hello",e.getType()),"atomic"===e.getType())return{component:S};console.log(e.getType())}),[]);return console.log(Object(u.convertToRaw)(n.getCurrentContent())),Object(c.jsx)(u.Editor,{handleDroppedFiles:i,blockRendererFn:l,editorState:n,onChange:o})}],M=[function(){var e=Object(r.useMemo)((function(){return Object(b.e)(Object(d.i)())}),[]),t=Object(r.useState)([{children:[{text:"Hello Slate"}]}]),n=Object(s.a)(t,2),a=n[0],o=n[1];return Object(c.jsx)(b.b,{editor:e,value:a,onChange:function(e){return o(e)},children:Object(c.jsx)(b.a,{})})},function(){var e=Object(r.useMemo)((function(){return Object(b.e)(Object(d.i)())}),[]),t=Object(r.useState)([{children:[{text:"Hello Slate"}]}]),n=Object(s.a)(t,2),a=n[0],o=n[1],i=Object(r.useCallback)((function(t){var n=t.key,c=t.metaKey,r=d.a.marks(e)||{};null!=c&&null!=f[n]&&(null!=r[n]?d.a.removeMark(e,n):d.a.addMark(e,n,!0))}),[e]),l=Object(r.useCallback)((function(e){var t=e.leaf,n=(t.text,Object(h.a)(t,["text"])),r=Object.keys(n).reduce((function(e,t){return Object(O.a)(Object(O.a)({},e),f[t])}),{});return Object(c.jsx)("span",Object(O.a)(Object(O.a)({},e.attributes),{},{style:r,children:e.children}))}),[]);return console.log({value:a}),Object(c.jsx)(b.b,{editor:e,value:a,onChange:function(e){return o(e)},children:Object(c.jsx)(b.a,{onKeyDown:i,renderLeaf:l})})},function(){var e=Object(r.useMemo)((function(){return Object(b.e)(Object(d.i)())}),[]),t=Object(r.useState)([{children:[{text:"Hello Slate"}]}]),n=Object(s.a)(t,2),a=n[0],o=n[1],i=Object(r.useCallback)((function(e){var t=e.element,n=e.children,r=Object(h.a)(e,["element","children"]);return"h1"===t.type||"h2"===t.type?Object(c.jsx)("h1",Object(O.a)(Object(O.a)({},r),{},{children:n})):Object(c.jsx)("p",Object(O.a)(Object(O.a)({},r),{},{children:n}))}),[]);return Object(c.jsxs)(b.b,{editor:e,value:a,onChange:function(e){return o(e)},children:[Object(c.jsx)("button",{onClick:function(){d.h.setNodes(e,{type:"h1"})},children:"h1"}),Object(c.jsx)(b.a,{renderElement:i})]})},function(){var e=Object(r.useMemo)((function(){return Object(b.e)(Object(E.a)(Object(d.i)()))}),[]),t=Object(r.useState)({}),n=Object(s.a)(t,2),a=n[0],o=n[1],i=Object(r.useState)([{children:[{text:"Hello there"}]},{children:[{text:"Drop an image here please"}]}]),l=Object(s.a)(i,2),j=l[0],u=l[1];return e.insertData=function(t){var n=t.files;if(n&&n.length>0){var c,r=Object(g.a)(n);try{var i=function(){var t=c.value;o(Object(O.a)(Object(O.a)({},a),{},Object(C.a)({},t.name,null))),function(e,t){var n={type:"image",entity:t,children:[{text:""}]};d.h.insertNodes(e,n)}(e,t.name),setTimeout(Object(p.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:n=e.sent,o(Object(O.a)(Object(O.a)({},a),{},Object(C.a)({},t.name,n)));case 4:case"end":return e.stop()}}),e)}))),3e3)};for(r.s();!(c=r.n()).done;)i()}catch(l){r.e(l)}finally{r.f()}}},Object(c.jsx)(b.b,{editor:e,value:j,onChange:function(e){return u(e)},children:Object(c.jsx)(b.a,{onDrop:function(e){return[console.log(e)]},renderElement:function(e){return Object(c.jsx)(w,Object(O.a)(Object(O.a)({},e),{},{imageStore:a}))}})})}],L=["Basic","Basic Text Formatting","Block Formatting","Transient State"];function H(){return Object(c.jsx)(l.a,{children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("th",{children:[Object(c.jsx)("td",{}),Object(c.jsx)("td",{children:"Slate"}),Object(c.jsx)("td",{children:"Draft"})]})}),Object(c.jsx)("tbody",{children:L.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e}),Object(c.jsx)("td",{children:Object(c.jsx)(l.b,{to:"/D".concat(t+1),children:"Draft js"})}),Object(c.jsx)("td",{children:Object(c.jsx)(l.b,{to:"/S".concat(t+1),children:"Slate js"})})]})}))})]}),Object(c.jsxs)(j.c,{children:[B.map((function(e,t){return Object(c.jsx)(j.a,{path:"/D".concat(t+1),children:Object(c.jsx)(e,{})},"/D".concat(t+1))})),M.map((function(e,t){return Object(c.jsx)(j.a,{path:"/S".concat(t+1),children:Object(c.jsx)(e,{})},"/S".concat(t+1))}))]})]})})}i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(H,{})}),document.getElementById("root"))}},[[236,1,2]]]);
//# sourceMappingURL=main.21f4dac7.chunk.js.map