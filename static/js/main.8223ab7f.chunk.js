(this["webpackJsonpdraft-slate-comparison-playground"]=this["webpackJsonpdraft-slate-comparison-playground"]||[]).push([[0],{124:function(e,t,n){},125:function(e,t,n){},235:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n(0),a=n.n(c),o=n(40),i=n.n(o),l=(n(124),n(125),n(56)),j=n(11),s=n(1),u=n(9);n(53);var d=n(13),b=n(2);var h=n(10),O=n(54),f={b:{fontWeight:"bold"},i:{fontStyle:"italic"},u:{textDecoration:"underline"}};var x=n(7),p=n.n(x),v=n(4),g=n(68);function m(e){var t=e.block,n=e.contentState,c=t.getEntityAt(0),a=n.getEntity(c).getData();return a.src?Object(r.jsx)("div",{children:Object(r.jsx)("img",{alt:a.name,src:a.src})}):Object(r.jsxs)("div",{contentEditable:!1,children:["Loading ",a.name]})}function y(e){return S.apply(this,arguments)}function S(){return(S=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.addEventListener("loadend",(function(){e(r.result)})),r.readAsDataURL(t),r.addEventListener("abort",n),r.addEventListener("error",n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=n(116),k=n(118);function E(){var e=Object(C.a)(["\n            display: block;\n            max-width: 100%;\n            max-height: 20em;\n            box-shadow: ",";\n          "]);return E=function(){return e},e}var D=function(e){var t=e.attributes,n=e.children;switch(e.element.type){case"image":return Object(r.jsx)(T,Object(h.a)({},e));default:return Object(r.jsx)("p",Object(h.a)(Object(h.a)({},t),{},{children:n}))}},T=function(e){var t=e.attributes,n=e.children,c=e.element,a=Object(d.d)(),o=Object(d.c)();return c.url?Object(r.jsxs)("div",Object(h.a)(Object(h.a)({},t),{},{children:[Object(r.jsx)("div",{contentEditable:!1,children:Object(r.jsx)("img",{alt:"Cat",src:c.url,className:Object(k.a)(E(),a&&o?"0 0 0 3px #B4D5FF":"none")})}),n]})):Object(r.jsx)("div",Object(h.a)(Object(h.a)({},t),{},{children:Object(r.jsx)("div",{contentEditable:!1,children:"Loading"})}))};var F=[function(){var e=a.a.useState((function(){return u.EditorState.createWithContent(u.ContentState.createFromText("Hello Draft"))})),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.jsx)(u.Editor,{editorState:n,onChange:c})},function(){var e=a.a.useState((function(){return u.EditorState.createWithContent(u.ContentState.createFromText("Hello World"))})),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(c.useCallback)((function(e,t){var n=u.RichUtils.handleKeyCommand(t,e);return n?(o(n),"handled"):"not-handled"}),[]);return Object(r.jsx)(u.Editor,{handleKeyCommand:i,editorState:n,onChange:o})},function(){var e=a.a.useState((function(){return u.EditorState.createWithContent(u.ContentState.createFromText("Hello World"))})),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:function(){var e=n.getSelection().getAnchorKey(),t=n.getCurrentContent().getBlockForKey(e);c(u.EditorState.push(n,u.Modifier.setBlockType(n.getCurrentContent(),n.getSelection(),"h1"===t.getType()?"unstyled":"h1"),"change-block-type"))},children:"h1"}),Object(r.jsx)(u.Editor,{blockRendererFn:function(e){if(console.log("hello",e.getType()),"h1"===e.getType())return{component:function(e){return Object(r.jsx)("h1",{children:Object(r.jsx)(u.EditorBlock,Object(h.a)({},e))})}};console.log(e.getType())},editorState:n,onChange:c})]})},function(){var e=a.a.useState((function(){return u.EditorState.createWithContent(u.ContentState.createFromText("Hello there\nDrop an image please"))})),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(c.useCallback)((function(e,t){if(null!=t&&t.length>0){var r,c=Object(v.a)(t);try{var a=function(){var e=r.value,t=n.getCurrentContent(),c=(t=t.createEntity("image","IMMUTABLE",{name:e.name,src:null})).getLastCreatedEntityKey();o(u.AtomicBlockUtils.insertAtomicBlock(u.EditorState.push(n,t,"apply-entity"),c," ")),setTimeout(Object(g.a)(p.a.mark((function n(){var r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y(e);case 2:r=n.sent,t.mergeEntityData(c,{src:r});case 4:case"end":return n.stop()}}),n)}))),2e3)};for(c.s();!(r=c.n()).done;)a()}catch(i){c.e(i)}finally{c.f()}return"handled"}return"not-handled"}),[n]),l=Object(c.useCallback)((function(e){if(console.log("hello",e.getType()),"atomic"===e.getType())return{component:m};console.log(e.getType())}),[]);return Object(r.jsx)(u.Editor,{handleDroppedFiles:i,blockRendererFn:l,editorState:n,onChange:o})}],w=[function(){var e=Object(c.useMemo)((function(){return Object(d.e)(Object(b.h)())}),[]),t=Object(c.useState)([{children:[{text:"Hello Slate"}]}]),n=Object(s.a)(t,2),a=n[0],o=n[1];return Object(r.jsx)(d.b,{editor:e,value:a,onChange:function(e){return o(e)},children:Object(r.jsx)(d.a,{})})},function(){var e=Object(c.useMemo)((function(){return Object(d.e)(Object(b.h)())}),[]),t=Object(c.useState)([{children:[{text:"Hello Slate"}]}]),n=Object(s.a)(t,2),a=n[0],o=n[1],i=Object(c.useCallback)((function(t){var n=t.key,r=t.metaKey,c=b.a.marks(e)||{};null!=r&&null!=f[n]&&(null!=c[n]?b.a.removeMark(e,n):b.a.addMark(e,n,!0))}),[e]),l=Object(c.useCallback)((function(e){var t=e.leaf,n=(t.text,Object(O.a)(t,["text"])),c=Object.keys(n).reduce((function(e,t){return Object(h.a)(Object(h.a)({},e),f[t])}),{});return Object(r.jsx)("span",Object(h.a)(Object(h.a)({},e.attributes),{},{style:c,children:e.children}))}),[]);return console.log({value:a}),Object(r.jsx)(d.b,{editor:e,value:a,onChange:function(e){return o(e)},children:Object(r.jsx)(d.a,{onKeyDown:i,renderLeaf:l})})},function(){var e=Object(c.useMemo)((function(){return Object(d.e)(Object(b.h)())}),[]),t=Object(c.useState)([{children:[{text:"Hello Slate"}]}]),n=Object(s.a)(t,2),a=n[0],o=n[1],i=Object(c.useCallback)((function(e){var t=e.element,n=e.children,c=Object(O.a)(e,["element","children"]);return"h1"===t.type||"h2"===t.type?Object(r.jsx)("h1",Object(h.a)(Object(h.a)({},c),{},{children:n})):Object(r.jsx)("p",Object(h.a)(Object(h.a)({},c),{},{children:n}))}),[]);return Object(r.jsxs)(d.b,{editor:e,value:a,onChange:function(e){return o(e)},children:[Object(r.jsx)("button",{onClick:function(){b.g.setNodes(e,{type:"h1"})},children:"h1"}),Object(r.jsx)(d.a,{renderElement:i})]})},function(){var e=Object(c.useMemo)((function(){return Object(d.e)(Object(b.h)())}),[]),t=Object(c.useState)([{children:[{text:"Hello there"}]},{children:[{text:"Drop an image here please"}]}]),n=Object(s.a)(t,2),a=n[0],o=n[1];return e.insertData=function(t){var n=t.files;if(n&&n.length>0){var r,c=Object(v.a)(n);try{var a=function(){var t=r.value,n=new FileReader,c=t.type.split("/");"image"===Object(s.a)(c,1)[0]&&(n.addEventListener("load",(function(){var t,r=null===(t=n.result)||void 0===t?void 0:t.toString();r&&function(e,t){var n={type:"image",url:t,children:[{text:""}]};b.g.insertNodes(e,n)}(e,r)})),n.readAsDataURL(t))};for(c.s();!(r=c.n()).done;)a()}catch(o){c.e(o)}finally{c.f()}}},Object(r.jsx)(d.b,{editor:e,value:a,onChange:function(e){return o(e)},children:Object(r.jsx)(d.a,{onDrop:function(e){return[console.log(e)]},renderElement:D})})}],B=["Basic","Basic Text Formatting","Block Formatting","Transient State"];function L(){return Object(r.jsx)(l.a,{children:Object(r.jsxs)("div",{children:[Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("th",{children:[Object(r.jsx)("td",{}),Object(r.jsx)("td",{children:"Slate"}),Object(r.jsx)("td",{children:"Draft"})]})}),Object(r.jsx)("tbody",{children:B.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e}),Object(r.jsx)("td",{children:Object(r.jsx)(l.b,{to:"/D".concat(t+1),children:"Draft js"})}),Object(r.jsx)("td",{children:Object(r.jsx)(l.b,{to:"/S".concat(t+1),children:"Slate js"})})]})}))})]}),Object(r.jsxs)(j.c,{children:[F.map((function(e,t){return Object(r.jsx)(j.a,{path:"/D".concat(t+1),children:Object(r.jsx)(e,{})},"/D".concat(t+1))})),w.map((function(e,t){return Object(r.jsx)(j.a,{path:"/S".concat(t+1),children:Object(r.jsx)(e,{})},"/S".concat(t+1))}))]})]})})}i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(L,{})}),document.getElementById("root"))}},[[235,1,2]]]);
//# sourceMappingURL=main.8223ab7f.chunk.js.map